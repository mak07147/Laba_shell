## Become financial guru
```sh
# Download the database
curl -s https://yandex.ru/news/quotes/graph_2000.json > ./quotes.json
```
Now you have historical quotes for EUR/RUB pair since late November 2014. It's time to have some fun:
```sh
# let's get the mean value for the last 14 days and decide whether to buy Euros:
jq -r '.prices[][]' quotes.json | grep -oP '\d+\.\d+' | tail -n 14 | awk -v mean=0 '{mean+=$1} END {print mean/14}'
```
* try to understand the command above. Read something related to `jq` and `awk`.
* remove the `grep -oP '\d+\.\d+'` part, do the same thing without any pattern matching
* tell me which March the price was the least volatile since 2015? To do so you'll have to find the difference between MIN and MAX values for the period.

### Hints
* man date
* Yandex likes zeroes!
========================================================================================================
 
jq -r '.prices[][]' quotes.json | grep -oP '\d+\.\d+' | tail -n 14 | awk -v mean=0 '{mean+=$1} END {print mean/14}''

========================================================================================================

#Решение

curl -s скачивает данные с веб ресурса в json формате без html разметки
jq -r '.prices[][]' используется для получения всех значений из объекта JSON, который находится внутри объекта ‘prices’.
-r указывает на режим вывода без обработки символов новой строки.
. указывает на текущий объект в JSON.
[] обозначает доступ к элементу массива.
Таким образом, данная команда выводит все значения из объекта ‘prices’, которые являются массивами массивов чисел.

Команда grep -oP используется для поиска и вывода только совпадающих шаблонов.

– grep - это утилита командной строки для поиска текстовых строк в файлах.
– -o - указывает, что нужно вывести только найденые цифры.
– -P - указывает на использование расширенного регулярного выражения (Perl-совместимого).

\d+ - означает одну или более цифр.
\. - обозначает точку, которая может быть как частью числа, так и разделителем между числами.
\d - обозначает одну цифру.

grep -oP '\d+\.\d+' - в целом этот блок ищет в тексте все числа с точкой в качестве разделителя целой и дробной части, используя регулярные выражения. 

tail -n 14 - отображает первые 14 строк из предыдущего вывода 

– awk - это утилита awk, используемая для обработки текстовых файлов с помощью языка программирования AWK.
– -v означает, что параметр mean будет использоваться как переменная.
– {mean+=$1} - это выражение, которое вычисляет сумму значений чисел, разделенных пробелами, и сохраняет результат в переменной mean. Счетчик с итерацией в +1
– END {print mean/14} - конечный блок. Вычисляет среднее значение, делит его на 14 (количество чисел в файле) и выводит результат на экран.

grep -oP '\d+\.\d+' - если убрать этот блок кода, скрипт будет работать, но подсчет среднего значения будет вестись неправильно, числа с точкой будут плюсваться с целыми числами, вывод будет в 16-ричном виде плюс остаток (7.86163e+11)

#Дополнение

т.к в данном json файле нет возможности посмотреть волатильность за период, если бы была, добавил бы в скрипт следующие команды:

jq  -r '.prices[] | min' quotes.json - вывод минимального значения
jq  -r '.prices[] | max' quotes.json - вывод макимального значения
jq '.[] | select(.date=="March" and .year==2015 and .price<= min либо max)' fruits.json - вывод данных за определенный период. Сравниваем значение, вычисляем волатильность. Но это моё предложение, т.к самого json с архивами за 2014 год я не нашел. 
Ссылка (https://yandex.ru/news/quotes/graph_2000.json)либо устарела либо не работает.

Ссылка на веб-архив со snapshot https://web.archive.org/web/20191030170850/https://yandex.ru/news/quotes/graph_2000.json 
за 30 октября 2019